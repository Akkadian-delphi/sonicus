# Environment Configuration Template for Sonicus Multi-tenant Platform
# Copy this file to .env and fill in the actual values
# =======================================================================

# Basic Application Configuration
# ==============================
DEBUG=True
SECRET_KEY=your-secret-key-here
DATABASE_URL=postgresql://username:password@localhost:5432/sonicus_db

# Redis Configuration (for caching and sessions)
# =============================================
REDIS_URL=redis://localhost:6379/0

# CORS Settings (Frontend domains allowed to access API)
# =====================================================
ALLOWED_ORIGINS=http://localhost:3000,https://your-frontend-domain.com

# JWT Configuration
# ================
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# IONOS DNS API Configuration
# ==========================
# Get API credentials from IONOS API management
IONOS_DNS_API_URL=https://api.hosting.ionos.com/dns/v1
IONOS_API_KEY=your-ionos-api-key-here
IONOS_DNS_ZONE_ID=your-zone-id-for-sonicus.eu
IONOS_DOMAIN=sonicus.eu
IONOS_DEFAULT_IP=your-server-ip-address

# DNS Verification Settings
# ========================
DNS_VERIFICATION_TIMEOUT=30
DNS_VERIFICATION_MAX_RETRIES=3
DNS_VERIFICATION_DELAY_SECONDS=2

# Stripe Payment API Configuration
# ================================
# Get API credentials from Stripe Dashboard
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here
STRIPE_ENABLED=true

# Subscription Plans Configuration
# ===============================
STRIPE_STARTER_PRICE_ID=price_starter_plan_id
STRIPE_PROFESSIONAL_PRICE_ID=price_professional_plan_id
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_plan_id

# Odoo CRM Integration
# ===================
# Your Odoo instance details
ODOO_URL=https://your-instance.odoo.com
ODOO_DATABASE=your-odoo-database-name
ODOO_USERNAME=your-odoo-api-user@company.com
ODOO_PASSWORD=your-odoo-api-password
ODOO_LEAD_SOURCE=sonicus_registration

# Container Deployment Service
# ===========================
# Webhook endpoints for triggering deployments
DEPLOYMENT_WEBHOOK_URL=https://your-deployment-service.com/webhook
DEPLOYMENT_WEBHOOK_SECRET=your-deployment-webhook-secret
DEPLOYMENT_SERVICE_AUTH_TOKEN=your-deployment-service-token

# Container Resource Defaults
# ==========================
DEFAULT_CONTAINER_CPU=1.0
DEFAULT_CONTAINER_MEMORY=1Gi
DEFAULT_CONTAINER_STORAGE=5Gi
DEFAULT_CONTAINER_REPLICAS=1

# Email Configuration (for notifications)
# ======================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_USE_TLS=True

# Notification Email Addresses
# ===========================
ADMIN_EMAIL=admin@sonicus.eu
BILLING_EMAIL=billing@sonicus.eu
SUPPORT_EMAIL=support@sonicus.eu

# Logging Configuration
# ====================
LOG_LEVEL=INFO
LOG_FILE=app.log
ENABLE_STRUCTURED_LOGGING=True

# Security Settings
# ================
# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Session settings
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=lax

# Development/Testing Settings
# ===========================
# Set to True to enable mock responses for external services
MOCK_MODE=True
TESTING=False

# Service Health Check URLs
# ========================
HEALTH_CHECK_IONOS=https://api.hosting.ionos.com/health
HEALTH_CHECK_REVOLUT=https://b2b.revolut.com/health
HEALTH_CHECK_ODOO=${ODOO_URL}/web/health

# Monitoring and Analytics
# =======================
# Optional: Enable application monitoring
SENTRY_DSN=your-sentry-dsn-here
GOOGLE_ANALYTICS_ID=your-ga-id-here

# Theme Management Settings
# ========================
THEME_ASSETS_PATH=/themes
DEFAULT_THEME=professional_blue
THEME_CACHE_TTL=3600

# File Upload Configuration
# ========================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx
UPLOAD_PATH=/uploads

# Database Connection Pool
# =======================
DB_POOL_SIZE=10
DB_POOL_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# External Service Timeouts
# =========================
EXTERNAL_SERVICE_TIMEOUT=30
WEBHOOK_TIMEOUT=10
DNS_PROPAGATION_TIMEOUT=300

# Organization Settings
# ====================
MIN_SUBDOMAIN_LENGTH=3
MAX_SUBDOMAIN_LENGTH=63
RESERVED_SUBDOMAINS=www,api,admin,mail,ftp,blog,shop,app,mobile,staging,dev,test

# Subscription Configuration
# =========================
FREE_TRIAL_DAYS=14
PAYMENT_GRACE_PERIOD_DAYS=7
SUBSCRIPTION_RENEWAL_NOTICE_DAYS=3

# Backup and Maintenance
# =====================
BACKUP_RETENTION_DAYS=30
MAINTENANCE_MODE=False
MAINTENANCE_MESSAGE="System under maintenance. Please try again later."

# SSL/TLS Configuration
# ====================
SSL_CERT_PATH=/path/to/ssl/cert
SSL_KEY_PATH=/path/to/ssl/key
SSL_CA_PATH=/path/to/ssl/ca

# Multi-tenant Database Configuration
# ==================================
# Template database for new organizations
TEMPLATE_DATABASE_NAME=sonicus_template
TENANT_DATABASE_PREFIX=sonicus_
DATABASE_SCHEMA_VERSION=1.0

# Container Registry Settings
# ===========================
DOCKER_REGISTRY_URL=your-registry.com
DOCKER_REGISTRY_USERNAME=your-registry-username
DOCKER_REGISTRY_PASSWORD=your-registry-password
DOCKER_IMAGE_TAG=latest

# Kubernetes Configuration (if using K8s)
# ======================================
KUBERNETES_CONFIG_PATH=/path/to/kubeconfig
KUBERNETES_NAMESPACE=sonicus-tenants
KUBERNETES_SERVICE_ACCOUNT=sonicus-deployer

# Content Delivery Network
# ========================
CDN_BASE_URL=https://cdn.sonicus.eu
CDN_API_KEY=your-cdn-api-key
CDN_ZONE_ID=your-cdn-zone-id

# API Versioning
# =============
API_VERSION=v1
API_BASE_PATH=/api/v1

# Development URLs
# ===============
FRONTEND_DEV_URL=http://localhost:3000
BACKEND_DEV_URL=http://localhost:8000
DOCS_URL=http://localhost:8000/docs
